syntax = "proto3";

package custom;

import "github.com/iov-one/weave/codec.proto";
import "gogoproto/gogo.proto";

enum InnerStateEnum {
  INNER_STATE_ENUM_INVALID = 0 [(gogoproto.enumvalue_customname) = "Invalid"];
  INNER_STATE_ENUM_CASE_1 = 1 [(gogoproto.enumvalue_customname) = "CaseOne"];
  INNER_STATE_ENUM_CASE_2 = 2 [(gogoproto.enumvalue_customname) = "CaseTwo"];
}

message InnerState {
  int64 st1 = 1;
  int64 st2 = 2;
}

// ---------- STATE -----------

// Demonstrates morm.Model
message StateIndexed {
  weave.Metadata metadata = 1;
  InnerStateEnum inner_state_enum = 2;
  string str = 3;
  bytes byte = 4;
  // Demonstrates timestamp in models
  int64 deleted_at = 5 [(gogoproto.casttype) = "github.com/iov-one/weave.UnixTime"];
}

// Demonstrates orm.Model
message State {
  weave.Metadata metadata = 1;
  InnerState inner_state = 2;
  bytes address = 3 [(gogoproto.casttype) = "github.com/iov-one/weave.Address"];
  // Demonstrates timestamp in models
  int64 created_at = 4 [(gogoproto.casttype) = "github.com/iov-one/weave.UnixTime"];
}

// ---------- MESSAGES -----------

message CreateStateIndexedMsg {
  weave.Metadata metadata = 1;
  InnerStateEnum inner_state_enum = 2;
  string str = 4;
  bytes byte = 5;
}

message CreateStateMsg {
  weave.Metadata metadata = 1;
  InnerState inner_state = 2;
  bytes address = 3 [(gogoproto.casttype) = "github.com/iov-one/weave.Address"];
}
